<!DOCTYPE html>
<html>

<head>
  <title>Space Terra</title>

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-90767749-2', 'auto');
    ga('send', 'pageview');

  </script>

</head>

<style type="text/css">
  body {
    margin: 0px;
  }

  #userInfoContainer {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 1000;
    display: flex;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.5); /* Dark background with some transparency */
    padding: 5px 10px;
    border-radius: 8px;
    font-family: 'Impact', sans-serif; /* Using Impact font for consistency */
    color: #F8E22E; /* Yellow color from the game */
    font-size: 20px;
  }

  #usernameDisplay {
    margin-right: 10px;
  }

  #logout {
    color: #F8E22E; /* Yellow color for logout link */
    text-decoration: none;
    padding: 5px 8px;
    border: 1px solid #F8E22E;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  #logout:hover {
    background-color: rgba(248, 226, 46, 0.2); /* Light yellow hover effect */
  }
</style>

<body>

  <div>
    <script src="https://cdn.socket.io/3.1.1/socket.io.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/phaser.min.js"></script>
    <script type="text/javascript" src="/javascripts/utils.js"></script>
    <script type="text/javascript" src="/javascripts/states/landing.js"></script>
    <script type="text/javascript" src="/javascripts/states/gameplay.js"></script>
    <script type="text/javascript" src="/javascripts/states/gameover.js"></script>
    <script type="text/javascript" src="/javascripts/states/leaderboard.js"></script>
    <script type="text/javascript" src="/javascripts/states/instructions.js"></script>
    <script type="text/javascript" src="/javascripts/config.js"></script>
    <script type="text/javascript" src="/javascripts/game.js"></script>
    <div id="userInfoContainer" style="display:none;">
      <span id="usernameDisplay"></span>
      <a href="/logout" id="logout">Logout</a>
    </div>
    <script>
      fetch('/api/user')
        .then(function(res){return res.json();})
        .then(function(data){
          if(data.user){
            document.getElementById('userInfoContainer').style.display = 'flex';
            document.getElementById('usernameDisplay').innerText = 'Hi, ' + (data.user.displayName || data.user.email);
            // Update the global username variable for Phaser states
            if (typeof username !== 'undefined') {
                username = data.user.displayName || data.user.email;
            }
          }
        });
    </script>
  </div>

  <label></label>
</body>

</html>